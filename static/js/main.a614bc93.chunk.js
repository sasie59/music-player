(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[0],{21:function(e,n,t){},28:function(e,n,t){},29:function(e,n,t){},30:function(e,n,t){},31:function(e,n,t){},32:function(e,n,t){"use strict";t.r(n);var r=t(1),s=t(0),i=t.n(s),a=t(10),c=t.n(a),o=(t(21),t(4)),l=t(5),u=t(8),p=t(7),d=t(9),j=t(6),h=t(2),v="IS_LIKE",f=[{id:1,singer:"\u4e94\u6708\u5929",seconds:3,isLike:!0,name:"\u6eab\u67d4"},{id:2,singer:"\u4e94\u6708\u5929",seconds:3,isLike:!1,name:"\u4f60\u4e0d\u662f\u771f\u6b63\u7684\u5feb\u6a02"},{id:3,singer:"\u4e94\u6708\u5929",seconds:3,isLike:!0,name:"\u64c1\u62b1"},{id:4,singer:"\u4e94\u6708\u5929",seconds:3,isLike:!1,name:"\u5fd7\u660e\u8207\u6625\u5b0c"},{id:5,singer:"\u4e94\u6708\u5929",seconds:3,isLike:!0,name:"\u7a81\u7136\u597d\u60f3\u4f60"},{id:6,singer:"\u4e94\u6708\u5929",seconds:3,isLike:!1,name:"\u8ecb\u8eca"},{id:7,singer:"\u4e94\u6708\u5929",seconds:3,isLike:!0,name:"\u7d42\u7d50\u5b64\u55ae"},{id:8,singer:"\u4e94\u6708\u5929",seconds:3,isLike:!1,name:"\u4e00\u9846\u860b\u679c"},{id:9,singer:"\u4e94\u6708\u5929",seconds:3,isLike:!0,name:"\u4eba\u751f\u6709\u9650\u516c\u53f8"}];var O="NONE",b="ALL_PLAY",g="RANDOM",y="SET_LOOP_MODE";var m=t(3),x="PLAY",L="STOP",k="PAUSE",N="RESUME",P="APPEND_SECOND",C="SET_CURRENT_PLAYING",I=function(e){return{type:x,index:e}},S=function(){return{type:L}},M=function(){return{type:k}},E=function(){return{type:N}},_=function(){return{type:P}},A=function(e){return{type:C,index:e}};var w=Object(d.b)({songList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case v:var t=Object(h.a)(e);return t[n.index].isLike=!t[n.index].isLike,t;default:return e}},loopMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case y:return n.loopMode;default:return e}},status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action:L},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case x:return{action:x,currentPlaying:n.index,currentSecond:0};case k:return Object(m.a)(Object(m.a)({},e),{},{action:k});case N:return Object(m.a)(Object(m.a)({},e),{},{action:x});case L:return{action:L};case P:return Object(m.a)(Object(m.a)({},e),{},{currentSecond:e.currentSecond+1});case C:return Object(m.a)(Object(m.a)({},e),{},{currentPlaying:n.index,currentSecond:0});default:return e}}});t(28);function R(e){e.appendSecond();var n=e.songList,t=e.loopMode,r=e.currentPlaying;if(e.currentSecond>=n[r].seconds){if(t===O)return e.stop(),!0;if(t===b){if(r<n.length-1)e.setCurrentPlaying(r+1);else if(r>=n.length-1)return e.stop(),!0}else t===g&&e.play(function(e,n){var t=Object(h.a)(Array(e).keys());return(t=[].concat(Object(h.a)(t.slice(0,n)),Object(h.a)(t.slice(n+1)))).sort((function(){return Math.random()-.5})),t[0]}(n.length,r))}return!1}t(29);function D(e){return Object(r.jsxs)("div",{className:"InfoBlock",children:[Object(r.jsx)("span",{className:"star ".concat(e.isLike?"full":""),onClick:e.onClickStar}),Object(r.jsxs)("div",{className:"info",children:[Object(r.jsx)("div",{className:"song",children:e.song}),Object(r.jsx)("div",{className:"singer",children:e.singer})]})]})}var T=function(e){Object(u.a)(t,e);var n=Object(p.a)(t);function t(){var e;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=n.call.apply(n,[this].concat(s))).handlePlay=function(){e.props.stopInterval(),e.props.play(e.props.index),e.props.startInterval(setInterval((function(){R(e.props)&&e.props.stopInterval()}),1e3))},e.handlePause=function(){e.props.pause(),e.props.stopInterval()},e.handleResume=function(){e.props.resume(),e.props.startInterval(setInterval((function(){R(e.props)&&e.props.stopInterval()}),1e3))},e}return Object(l.a)(t,[{key:"render",value:function(){var e=this.props.action,n=this.props.currentPlaying===this.props.index;return Object(r.jsx)("div",{className:"CoverBlock",children:Object(r.jsxs)("div",{className:"cover",children:[Object(r.jsx)("div",{className:"box ".concat(n?"darkBox":""),children:n?e===L?Object(r.jsx)("div",{className:"triangle",onClick:this.handlePlay}):e===x?Object(r.jsx)("div",{className:"pause",onClick:this.handlePause}):e===k?Object(r.jsx)("div",{className:"triangle",onClick:this.handleResume}):null:Object(r.jsx)("div",{className:"triangle",onClick:this.handlePlay})}),Object(r.jsx)(D,{song:this.props.song,singer:this.props.singer,isLike:this.props.isLike,onClickStar:this.props.onClickStar})]})})}}]),t}(s.Component),B=Object(j.b)((function(e){return{status:e.status,songList:e.songList,loopMode:e.loopMode,action:e.status.action,currentSecond:e.status.currentSecond,currentPlaying:e.status.currentPlaying}}),(function(e){return{stop:function(){return e(S())},pause:function(){return e(M())},resume:function(){return e(E())},play:function(n){return e(I(n))},appendSecond:function(){return e(_())},setCurrentPlaying:function(n){return e(A(n))}}}))(T),U=function(e){Object(u.a)(t,e);var n=Object(p.a)(t);function t(){var e;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=n.call.apply(n,[this].concat(s))).handleClick=function(n){e.props.isLike(n)},e}return Object(l.a)(t,[{key:"render",value:function(){var e=this;return Object(r.jsx)("div",{className:"SongList",children:this.props.songList.map((function(n,t){return Object(r.jsx)(B,{index:t,song:n.name,singer:n.singer,isLike:n.isLike,stopInterval:e.props.stopInterval,startInterval:e.props.startInterval,onClickStar:e.handleClick.bind(e,t)},n.id)}))})}}]),t}(s.Component),F=Object(j.b)((function(e){return{songList:e.songList}}),(function(e){return{isLike:function(n){return e(function(e){return{type:v,index:e}}(n))}}}))(U),X=(t(30),{NONE:"None",ALL_PLAY:"All Play",RANDOM:"Random"}),Y=function(e,n){var t=Object(h.a)(Array(e).keys());return(t=[].concat(Object(h.a)(t.slice(0,n)),Object(h.a)(t.slice(n+1)))).sort((function(){return Math.random()-.5})),t[0]},J=function(e){Object(u.a)(t,e);var n=Object(p.a)(t);function t(){var e;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=n.call.apply(n,[this].concat(s))).handleChangeLoopMode=function(){var n=e.props.loopMode;e.props.setLoopMode(n===O?b:n===b?g:n===g?O:"")},e.handlePrev=function(){var n=e.props,t=n.songList,r=n.loopMode,s=n.currentPlaying,i=void 0===s?e.props.songList.length:s;r!==g&&e.props.setCurrentPlaying(i-1),i-1<=-1?e.props.setCurrentPlaying(t.length-1):r===g&&e.props.setCurrentPlaying(Y(t.length,i))},e.handleNext=function(){var n=e.props,t=n.songList,r=n.loopMode,s=n.currentPlaying,i=void 0===s?-1:s;r!==g&&e.props.setCurrentPlaying(i+1),i+1>=t.length?e.props.setCurrentPlaying(0):r===g&&e.props.setCurrentPlaying(Y(t.length,i))},e.handlePlay=function(){e.props.stopInterval(),e.props.play(0),e.props.startInterval(setInterval((function(){R(e.props)&&e.props.stopInterval()}),1e3))},e.handlePause=function(){e.props.pause()},e.handleResume=function(){e.props.resume(),e.props.startInterval(setInterval((function(){R(e.props)&&e.props.stopInterval()}),1e3))},e}return Object(l.a)(t,[{key:"render",value:function(){var e=this.props,n=e.status,t=e.currentPlaying,s=e.currentSecond,i=e.songList,a=s%60,c=Math.floor(s/60);return Object(r.jsxs)("div",{className:"StatusBlock",children:[Object(r.jsx)("div",{className:"progressBar",children:Object(r.jsx)("div",{className:"line",children:Object(r.jsx)("div",{className:"race",style:{whidth:n.action!==L?"".concat(Math.floor(s/i[t].seconds*100),"%"):0}})})}),n.action!==L&&Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:[c,":",a]}),Object(r.jsxs)("div",{children:["- ",Math.floor((i[t].seconds-s)/60)," : ",(i[t].seconds-s)%60]})]}),Object(r.jsxs)("div",{className:"controlBar",children:[Object(r.jsx)("div",{className:"loopMode",children:Object(r.jsx)("div",{className:"mode",onClick:this.handleChangeLoopMode,children:X[this.props.loopMode]})}),Object(r.jsx)("div",{className:"controlButton",children:Object(r.jsxs)("div",{className:"btn",children:[Object(r.jsx)("div",{className:"prev",onClick:this.handlePrev}),Object(r.jsx)("div",{className:"prev",onClick:this.handlePrev}),Object(r.jsx)("div",{children:n.action===L?Object(r.jsx)("div",{className:"play",onClick:this.handlePlay}):n.action===x||n.action===N?Object(r.jsx)("div",{className:"pause",onClick:this.handlePause}):n.action===k?Object(r.jsx)("div",{className:"play",onClick:this.handleResume}):null}),Object(r.jsx)("div",{className:"next",onClick:this.handleNext}),Object(r.jsx)("div",{className:"next",onClick:this.handleNext})]})})]})]})}}]),t}(s.Component),V=Object(j.b)((function(e){return{status:e.status,loopMode:e.loopMode,songList:e.songList,currentSecond:e.status.currentSecond,currentPlaying:e.status.currentPlaying}}),(function(e){return{stop:function(){return e(S())},pause:function(){return e(M())},resume:function(){return e(E())},play:function(n){return e(I(n))},appendSecond:function(){return e(_())},setLoopMode:function(n){return e(function(e){return{type:y,loopMode:e}}(n))},setCurrentPlaying:function(n){return e(A(n))}}}))(J),G=(t(31),Object(d.c)(w,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));G.subscribe((function(){return console.warn(G.getState())}));var K=function(e){Object(u.a)(t,e);var n=Object(p.a)(t);function t(){var e;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=n.call.apply(n,[this].concat(s))).startInterval=function(n){e.interval=n},e.stopInterval=function(){clearInterval(e.interval)},e}return Object(l.a)(t,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"musicPlayer_1",children:Object(r.jsxs)(j.a,{store:G,children:[Object(r.jsx)(F,{startInterval:this.startInterval,stopInterval:this.stopInterval}),Object(r.jsx)(V,{startInterval:this.startInterval,stopInterval:this.stopInterval})]})})}}]),t}(s.Component),q=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,33)).then((function(n){var t=n.getCLS,r=n.getFID,s=n.getFCP,i=n.getLCP,a=n.getTTFB;t(e),r(e),s(e),i(e),a(e)}))};c.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(K,{})}),document.getElementById("root")),q()}},[[32,1,2]]]);
//# sourceMappingURL=main.a614bc93.chunk.js.map